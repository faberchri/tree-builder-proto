package clusterer;

import java.util.Arrays;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;

import com.sun.xml.internal.ws.policy.privateutil.PolicyUtils.Collections;


public abstract class AbstractNode<T> implements Node<T>, PrintableNode{
	
	private NodeDistanceCalculator distanceCalculator;
	
	public AbstractNode(NodeDistanceCalculator ndc) {
		this.distanceCalculator = ndc; 
	}
	
	public double getDistance(Node otherNode) {
		return distanceCalculator.calculateDistance(this, otherNode);
	}
	
	String getAttributesString(Map<? extends AbstractNode, T> map) {
		AbstractNode[] keyArr = (AbstractNode[]) map.keySet().toArray();
		Arrays.sort(keyArr);
		String s = "";
		for (AbstractNode node : keyArr) {
			
		}
		for (Map.Entry<? extends AbstractNode, T> entry : map.entrySet()) {
			s = s.concat(entry.getKey().toString()).concat(": ").concat(entry.getValue().toString()).concat(";\t");
		}
		if (s.length() == 0) {
			return "no_attributes";
		} else {
			return s.substring(0, s.length()-1);
		}
	}
	
	public abstract int getId();
	
	@Override
	public int compareTo(PrintableNode o) {
		return ((Integer)this.getId()).compareTo((Integer)o.getId());
	}
	
}